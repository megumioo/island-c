<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>小航小刀小岛</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
    <!-- 侧边栏导航 (桌面端) -->
    <aside class="sidebar">
        <div class="logo">
            <h1>小航小刀小岛</h1>
            <p>我们的每天每天</p>
        </div>
        <nav class="nav-menu">
            <ul>
                <li><a href="#records" class="nav-link active"><i class="fas fa-pencil-alt"></i> 日常记录</a></li>
                <li><a href="#checkin" class="nav-link"><i class="fas fa-check-circle"></i> 每日打卡</a></li>
                <li><a href="#calendar" class="nav-link"><i class="fas fa-calendar-alt"></i> 日历视图</a></li>
                <li><a href="#analytics" class="nav-link"><i class="fas fa-chart-bar"></i> 数据复盘</a></li>
                <li><a href="#sync" class="nav-link"><i class="fab fa-github"></i> 云同步</a></li>
            </ul>
        </nav>
        <div class="current-date">
            <p id="currentDate">加载中...</p>
        </div>
    </aside>

    <!-- 汉堡菜单按钮 (移动端) -->
    <button class="menu-toggle" id="menuToggle">
        <i class="fas fa-bars"></i>
    </button>

    <!-- 底部导航栏 (移动端) -->
    <nav class="bottom-nav">
        <a href="#records" class="bottom-nav-link active"><i class="fas fa-pencil-alt"></i></a>
        <a href="#checkin" class="bottom-nav-link"><i class="fas fa-check-circle"></i></a>
        <a href="#calendar" class="bottom-nav-link"><i class="fas fa-calendar-alt"></i></a>
        <a href="#analytics" class="bottom-nav-link"><i class="fas fa-chart-bar"></i></a>
        <a href="#sync" class="bottom-nav-link"><i class="fab fa-github"></i></a>
    </nav>

    <!-- 主内容区域 -->
    <main class="main-content">
        <!-- 记录模块 -->
        <section id="records" class="content-section active">
            <h2><i class="fas fa-clock"></i> 日常记录</h2>
            <div class="timeline-modules">
                <!-- 睡眠复盘 -->
                <div class="module-card" data-module="sleep">
                    <div class="module-header">
                        <h3><i class="fas fa-bed"></i> 睡眠复盘</h3>
                        <button class="collapse-btn"><i class="fas fa-chevron-down"></i></button>
                    </div>
                    <div class="module-body">
                        <form class="module-form">
                            <div class="form-group">
                                <label>睡眠时长 (小时):</label>
                                <input type="number" step="0.1" min="0" class="sleep-duration" placeholder="例如: 7.5">
                            </div>
                            <div class="form-group">
                                <label>睡眠质量 (1-100分):</label>
                                <input type="number" min="1" max="100" class="sleep-quality" placeholder="1-100">
                            </div>
                            <div class="form-group">
                                <label>睡眠感受:</label>
                                <textarea class="sleep-feeling" rows="2" placeholder="睡得怎么样？"></textarea>
                            </div>
                            <button type="button" class="save-btn temp-save"><i class="fas fa-save"></i> 暂时保存</button>
                        </form>
                    </div>
                </div>

                <!-- 早餐记录 -->
                <div class="module-card" data-module="breakfast">
                    <div class="module-header">
                        <h3><i class="fas fa-coffee"></i> 早餐记录</h3>
                        <button class="collapse-btn"><i class="fas fa-chevron-down"></i></button>
                    </div>
                    <div class="module-body">
                        <form class="module-form">
                            <div class="form-group">
                                <label>早餐内容:</label>
                                <textarea class="breakfast-content" rows="2" placeholder="今天早餐吃了什么？"></textarea>
                            </div>
                            <div class="form-group">
                                <label>早餐感受:</label>
                                <textarea class="breakfast-feeling" rows="2" placeholder="味道如何？"></textarea>
                            </div>
                            <button type="button" class="save-btn temp-save"><i class="fas fa-save"></i> 暂时保存</button>
                        </form>
                    </div>
                </div>

                <!-- 工作看板 -->
                <div class="module-card" data-module="work">
                    <div class="module-header">
                        <h3><i class="fas fa-tasks"></i> 工作看板</h3>
                        <button class="collapse-btn"><i class="fas fa-chevron-down"></i></button>
                    </div>
                    <div class="module-body">
                        <form class="module-form">
                            <div class="work-entries">
                                <div class="work-row">
                                    <div class="form-group">
                                        <input type="text" class="work-todo" placeholder="待办事项">
                                    </div>
                                    <div class="form-group">
                                        <input type="text" class="work-done" placeholder="完成情况">
                                    </div>
                                    <button type="button" class="remove-row-btn"><i class="fas fa-times"></i></button>
                                </div>
                            </div>
                            <button type="button" class="add-row-btn"><i class="fas fa-plus"></i> 添加任务</button>
                            <button type="button" class="save-btn temp-save"><i class="fas fa-save"></i> 暂时保存</button>
                        </form>
                    </div>
                </div>

                <!-- 家务记录 -->
                <div class="module-card" data-module="chores">
                    <div class="module-header">
                        <h3><i class="fas fa-home"></i> 家务记录</h3>
                        <button class="collapse-btn"><i class="fas fa-chevron-down"></i></button>
                    </div>
                    <div class="module-body">
                        <form class="module-form">
                            <div class="chores-grid">
                                <label class="checkbox-label">
                                    <input type="checkbox" class="chore-item" value="丢垃圾">
                                    <span>丢垃圾</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" class="chore-item" value="做饭">
                                    <span>做饭</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" class="chore-item" value="收拾厨房">
                                    <span>收拾厨房</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" class="chore-item" value="洗衣服">
                                    <span>洗衣服</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" class="chore-item" value="晾衣服">
                                    <span>晾衣服</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" class="chore-item" value="叠衣服">
                                    <span>叠衣服</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" class="chore-item" value="收拾桌子">
                                    <span>收拾桌子</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" class="chore-item" value="收拾床铺">
                                    <span>收拾床铺</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" class="chore-item" value="清理冰箱">
                                    <span>清理冰箱</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" class="chore-item" value="清理地面">
                                    <span>清理地面</span>
                                </label>
                            </div>
                            <div class="chores-score">
                                <strong>家务得分: <span id="choresTotal">0</span> 分</strong>
                            </div>
                            <button type="button" class="save-btn temp-save"><i class="fas fa-save"></i> 暂时保存</button>
                        </form>
                    </div>
                </div>

                <!-- 学习记录 -->
                <div class="module-card" data-module="study">
                    <div class="module-header">
                        <h3><i class="fas fa-book"></i> 学习记录</h3>
                        <button class="collapse-btn"><i class="fas fa-chevron-down"></i></button>
                    </div>
                    <div class="module-body">
                        <form class="module-form">
                            <div class="study-entries">
                                <div class="study-row">
                                    <div class="form-group">
                                        <label>科目:</label>
                                        <select class="study-subject">
                                            <option value="逻辑">逻辑</option>
                                            <option value="数学">数学</option>
                                            <option value="英语">英语</option>
                                            <option value="写作">写作</option>
                                            <option value="其他">其他</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>时长 (小时):</label>
                                        <input type="number" step="0.1" min="0" class="study-duration" placeholder="例如: 2">
                                    </div>
                                    <div class="form-group full-width">
                                        <label>学习内容:</label>
                                        <textarea class="study-content" rows="2" placeholder="学习了什么？"></textarea>
                                    </div>
                                    <div class="form-group full-width">
                                        <label>学习总结:</label>
                                        <textarea class="study-summary" rows="2" placeholder="有什么收获？"></textarea>
                                    </div>
                                    <button type="button" class="remove-row-btn"><i class="fas fa-times"></i></button>
                                </div>
                            </div>
                            <button type="button" class="add-study-btn"><i class="fas fa-plus"></i> 添加学习记录</button>
                            <button type="button" class="save-btn temp-save"><i class="fas fa-save"></i> 暂时保存</button>
                        </form>
                    </div>
                </div>

                <!-- 午餐记录 -->
                <div class="module-card" data-module="lunch">
                    <div class="module-header">
                        <h3><i class="fas fa-utensils"></i> 午餐记录</h3>
                        <button class="collapse-btn"><i class="fas fa-chevron-down"></i></button>
                    </div>
                    <div class="module-body">
                        <form class="module-form">
                            <div class="form-group">
                                <label>午餐内容:</label>
                                <textarea class="lunch-content" rows="2" placeholder="今天午餐吃了什么？"></textarea>
                            </div>
                            <div class="form-group">
                                <label>午餐感受:</label>
                                <textarea class="lunch-feeling" rows="2" placeholder="味道如何？"></textarea>
                            </div>
                            <button type="button" class="save-btn temp-save"><i class="fas fa-save"></i> 暂时保存</button>
                        </form>
                    </div>
                </div>

                <!-- 午休记录 -->
                <div class="module-card" data-module="nap">
                    <div class="module-header">
                        <h3><i class="fas fa-couch"></i> 午休记录</h3>
                        <button class="collapse-btn"><i class="fas fa-chevron-down"></i></button>
                    </div>
                    <div class="module-body">
                        <form class="module-form">
                            <div class="form-group">
                                <label>睡眠时长 (小时):</label>
                                <input type="number" step="0.1" min="0" class="nap-duration" placeholder="例如: 0.5">
                            </div>
                            <div class="form-group">
                                <label>睡眠质量 (1-100分):</label>
                                <input type="number" min="1" max="100" class="nap-quality" placeholder="1-100">
                            </div>
                            <div class="form-group">
                                <label>睡眠感受:</label>
                                <textarea class="nap-feeling" rows="2" placeholder="休息得怎么样？"></textarea>
                            </div>
                            <button type="button" class="save-btn temp-save"><i class="fas fa-save"></i> 暂时保存</button>
                        </form>
                    </div>
                </div>

                <!-- 晚餐记录 -->
                <div class="module-card" data-module="dinner">
                    <div class="module-header">
                        <h3><i class="fas fa-utensil-spoon"></i> 晚餐记录</h3>
                        <button class="collapse-btn"><i class="fas fa-chevron-down"></i></button>
                    </div>
                    <div class="module-body">
                        <form class="module-form">
                            <div class="form-group">
                                <label>晚餐内容:</label>
                                <textarea class="dinner-content" rows="2" placeholder="今天晚餐吃了什么？"></textarea>
                            </div>
                            <div class="form-group">
                                <label>晚餐感受:</label>
                                <textarea class="dinner-feeling" rows="2" placeholder="味道如何？"></textarea>
                            </div>
                            <button type="button" class="save-btn temp-save"><i class="fas fa-save"></i> 暂时保存</button>
                        </form>
                    </div>
                </div>

                <!-- 运动记录 -->
                <div class="module-card" data-module="exercise">
                    <div class="module-header">
                        <h3><i class="fas fa-running"></i> 运动记录</h3>
                        <button class="collapse-btn"><i class="fas fa-chevron-down"></i></button>
                    </div>
                    <div class="module-body">
                        <form class="module-form">
                            <div class="exercise-entries">
                                <div class="exercise-row">
                                    <div class="form-group">
                                        <label>运动类型:</label>
                                        <select class="exercise-type">
                                            <option value="有氧">有氧</option>
                                            <option value="无氧">无氧</option>
                                            <option value="力量">力量</option>
                                            <option value="拉伸">拉伸</option>
                                            <option value="舞力全开">舞力全开</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>时长 (小时):</label>
                                        <input type="number" step="0.1" min="0" class="exercise-duration" placeholder="例如: 1">
                                    </div>
                                    <div class="form-group">
                                        <label>消耗热量 (千卡):</label>
                                        <input type="number" min="0" class="exercise-calories" placeholder="例如: 300">
                                    </div>
                                    <div class="form-group full-width">
                                        <label>运动感受:</label>
                                        <textarea class="exercise-feeling" rows="2" placeholder="感觉如何？"></textarea>
                                    </div>
                                    <button type="button" class="remove-row-btn"><i class="fas fa-times"></i></button>
                                </div>
                            </div>
                            <button type="button" class="add-exercise-btn"><i class="fas fa-plus"></i> 添加运动记录</button>
                            <button type="button" class="save-btn temp-save"><i class="fas fa-save"></i> 暂时保存</button>
                        </form>
                    </div>
                </div>

                <!-- 游戏记录 -->
                <div class="module-card" data-module="game">
                    <div class="module-header">
                        <h3><i class="fas fa-gamepad"></i> 游戏记录</h3>
                        <button class="collapse-btn"><i class="fas fa-chevron-down"></i></button>
                    </div>
                    <div class="module-body">
                        <form class="module-form">
                            <div class="form-group">
                                <label>游戏名称:</label>
                                <input type="text" class="game-name" placeholder="玩的是什么游戏？">
                            </div>
                            <div class="form-group">
                                <label>游戏时长 (小时):</label>
                                <input type="number" step="0.1" min="0" class="game-duration" placeholder="例如: 2">
                            </div>
                            <div class="form-group">
                                <label>游戏感受:</label>
                                <textarea class="game-feeling" rows="2" placeholder="玩得开心吗？"></textarea>
                            </div>
                            <button type="button" class="save-btn temp-save"><i class="fas fa-save"></i> 暂时保存</button>
                        </form>
                    </div>
                </div>

                <!-- 娱乐记录 -->
                <div class="module-card" data-module="entertainment">
                    <div class="module-header">
                        <h3><i class="fas fa-film"></i> 娱乐记录</h3>
                        <button class="collapse-btn"><i class="fas fa-chevron-down"></i></button>
                    </div>
                    <div class="module-body">
                        <form class="module-form">
                            <div class="entertainment-entries">
                                <div class="entertainment-row">
                                    <div class="form-group">
                                        <label>娱乐类型:</label>
                                        <select class="entertainment-type">
                                            <option value="动画">动画</option>
                                            <option value="电影">电影</option>
                                            <option value="拼豆">拼豆</option>
                                            <option value="美甲">美甲</option>
                                            <option value="其他">其他</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>时长 (小时):</label>
                                        <input type="number" step="0.1" min="0" class="entertainment-duration" placeholder="例如: 1.5">
                                    </div>
                                    <div class="form-group full-width">
                                        <label>娱乐感受:</label>
                                        <textarea class="entertainment-feeling" rows="2" placeholder="感觉如何？"></textarea>
                                    </div>
                                    <button type="button" class="remove-row-btn"><i class="fas fa-times"></i></button>
                                </div>
                            </div>
                            <button type="button" class="add-entertainment-btn"><i class="fas fa-plus"></i> 添加娱乐记录</button>
                            <button type="button" class="save-btn temp-save"><i class="fas fa-save"></i> 暂时保存</button>
                        </form>
                    </div>
                </div>

                <!-- 财务记账 -->
                <div class="module-card" data-module="finance">
                    <div class="module-header">
                        <h3><i class="fas fa-wallet"></i> 财务记账</h3>
                        <button class="collapse-btn"><i class="fas fa-chevron-down"></i></button>
                    </div>
                    <div class="module-body">
                        <form class="module-form">
                            <!-- 收入部分 -->
                            <div class="finance-section">
                                <h4>收入</h4>
                                <div class="income-entries">
                                    <div class="finance-row">
                                        <div class="form-group">
                                            <label>分类:</label>
                                            <select class="income-category">
                                                <option value="工资">工资</option>
                                                <option value="兼职">兼职</option>
                                                <option value="礼物">礼物</option>
                                                <option value="其他">其他</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label>金额:</label>
                                            <input type="number" min="0" class="income-amount" placeholder="金额">
                                        </div>
                                        <div class="form-group full-width">
                                            <label>描述:</label>
                                            <input type="text" class="income-description" placeholder="收入描述">
                                        </div>
                                        <button type="button" class="remove-row-btn"><i class="fas fa-times"></i></button>
                                    </div>
                                </div>
                                <button type="button" class="add-income-btn"><i class="fas fa-plus"></i> 添加收入记录</button>
                            </div>
                            
                            <!-- 支出部分 -->
                            <div class="finance-section">
                                <h4>支出</h4>
                                <div class="expense-entries">
                                    <div class="finance-row">
                                        <div class="form-group">
                                            <label>分类:</label>
                                            <select class="expense-category">
                                                <option value="餐饮">餐饮</option>
                                                <option value="购物">购物</option>
                                                <option value="娱乐">娱乐</option>
                                                <option value="交通">交通</option>
                                                <option value="其他">其他</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label>金额:</label>
                                            <input type="number" min="0" class="expense-amount" placeholder="金额">
                                        </div>
                                        <div class="form-group full-width">
                                            <label>描述:</label>
                                            <input type="text" class="expense-description" placeholder="支出描述">
                                        </div>
                                        <button type="button" class="remove-row-btn"><i class="fas fa-times"></i></button>
                                    </div>
                                </div>
                                <button type="button" class="add-expense-btn"><i class="fas fa-plus"></i> 添加支出记录</button>
                            </div>
                            
                            <button type="button" class="save-btn temp-save"><i class="fas fa-save"></i> 暂时保存</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- 打卡板块 -->
        <section id="checkin" class="content-section">
            <h2><i class="fas fa-check-circle"></i> 每日打卡</h2>
            
            <!-- 补剂打卡 -->
            <div class="checkin-section">
                <h3><i class="fas fa-pills"></i> 补剂打卡</h3>
                <div class="checkin-grid">
                    <label class="checkin-item">
                        <input type="checkbox" class="supplement-checkbox" data-type="iron">
                        <span>补铁片</span>
                    </label>
                    <label class="checkin-item">
                        <input type="checkbox" class="supplement-checkbox" data-type="d3k2">
                        <span>维生素D3+K2</span>
                    </label>
                    <label class="checkin-item">
                        <input type="checkbox" class="supplement-checkbox" data-type="magnesium">
                        <span>补镁片</span>
                    </label>
                </div>
            </div>
            
            <!-- 护理打卡 -->
            <div class="checkin-section">
                <h3><i class="fas fa-spa"></i> 护理打卡</h3>
                <div class="checkin-grid">
                    <label class="checkin-item">
                        <input type="checkbox" class="care-checkbox" data-type="scrub">
                        <span>磨砂膏</span>
                    </label>
                    <label class="checkin-item">
                        <input type="checkbox" class="care-checkbox" data-type="hair-removal">
                        <span>脱毛</span>
                    </label>
                    <label class="checkin-item">
                        <input type="checkbox" class="care-checkbox" data-type="lotion">
                        <span>身体乳</span>
                    </label>
                </div>
            </div>
            
            <!-- 动森打卡 -->
            <div class="checkin-section animal-crossing-section">
                <h3><i class="fas fa-leaf"></i> 动森打卡</h3>
                
                <!-- 版本选择 -->
                <div class="ac-version-selector">
                    <label class="version-option">
                        <input type="radio" name="ac-version" value="小航小刀小岛" checked>
                        <span>小航小刀小岛</span>
                    </label>
                    <label class="version-option">
                        <input type="radio" name="ac-version" value="刀刀航航岛岛">
                        <span>刀刀航航岛岛</span>
                    </label>
                </div>
                
                <!-- NPC网格 -->
                <div class="ac-npc-grid" id="acNpcGrid">
                    <!-- NPC卡片会通过JS动态生成 -->
                </div>
                
                <button type="button" class="save-btn" id="saveCheckinBtn"><i class="fas fa-save"></i> 保存打卡</button>
            </div>
        </section>

        <!-- 日历视图 -->
        <section id="calendar" class="content-section">
            <h2><i class="fas fa-calendar-alt"></i> 日历视图</h2>
            
            <div class="calendar-controls">
                <button id="prevMonth"><i class="fas fa-chevron-left"></i></button>
                <h3 id="currentMonthYear">2023年10月</h3>
                <button id="nextMonth"><i class="fas fa-chevron-right"></i></button>
            </div>
            
            <div class="calendar-container">
                <div class="calendar-weekdays">
                    <div>日</div><div>一</div><div>二</div><div>三</div><div>四</div><div>五</div><div>六</div>
                </div>
                <div class="calendar-days" id="calendarDays">
                    <!-- 日历天数会通过JS动态生成 -->
                </div>
            </div>
            
            <!-- 重要日期管理 -->
            <div class="important-dates-section">
                <h3><i class="fas fa-star"></i> 重要日期管理</h3>
                
                <form id="importantDateForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>日期标题:</label>
                            <input type="text" id="dateTitle" placeholder="例如: 纪念日" required>
                        </div>
                        <div class="form-group">
                            <label>日期:</label>
                            <input type="date" id="dateDate" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>类型:</label>
                            <select id="dateType">
                                <option value="纪念日">纪念日</option>
                                <option value="截止日期">截止日期</option>
                                <option value="生日">生日</option>
                                <option value="其他">其他</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>标记颜色:</label>
                            <input type="color" id="dateColor" value="#FF6B6B">
                        </div>
                    </div>
                    <button type="submit" class="save-btn"><i class="fas fa-plus"></i> 添加重要日期</button>
                </form>
                
                <div class="important-dates-list" id="importantDatesList">
                    <!-- 重要日期列表会通过JS动态生成 -->
                </div>
            </div>
            
            <!-- 日期详情 -->
            <div class="date-details" id="dateDetails">
                <h3 id="selectedDateTitle">选择日期查看详情</h3>
                <div id="dateRecords">
                    <!-- 选中日期的记录会在这里显示 -->
                </div>
            </div>
        </section>

        <!-- 数据复盘 -->
        <section id="analytics" class="content-section">
            <h2><i class="fas fa-chart-bar"></i> 数据复盘</h2>
            
            <div class="analytics-controls">
                <div class="form-group">
                    <label>统计周期:</label>
                    <select id="analyticsPeriod">
                        <option value="7">最近7天</option>
                        <option value="30">最近30天</option>
                        <option value="90">最近90天</option>
                        <option value="all">全部数据</option>
                    </select>
                </div>
                <button id="refreshAnalytics" class="save-btn"><i class="fas fa-sync-alt"></i> 刷新数据</button>
            </div>
            
            <!-- 健康数据 -->
            <div class="analytics-section">
                <h3><i class="fas fa-heartbeat"></i> 健康数据</h3>
                <div class="charts-container">
                    <canvas id="sleepChart"></canvas>
                    <canvas id="exerciseChart"></canvas>
                </div>
                <div class="stats-grid" id="healthStats">
                    <!-- 健康统计数据 -->
                </div>
            </div>
            
            <!-- 学习数据 -->
            <div class="analytics-section">
                <h3><i class="fas fa-graduation-cap"></i> 学习数据</h3>
                <div class="charts-container">
                    <canvas id="studyChart"></canvas>
                </div>
                <div class="stats-grid" id="studyStats">
                    <!-- 学习统计数据 -->
                </div>
            </div>
            
            <!-- 家务数据 -->
            <div class="analytics-section">
                <h3><i class="fas fa-home"></i> 家务数据</h3>
                <div class="charts-container">
                    <canvas id="choresChart"></canvas>
                </div>
                <div class="stats-grid" id="choresStats">
                    <!-- 家务统计数据 -->
                </div>
            </div>
            
            <!-- 财务数据 -->
            <div class="analytics-section">
                <h3><i class="fas fa-wallet"></i> 财务数据</h3>
                <div class="charts-container">
                    <canvas id="financeChart"></canvas>
                </div>
                <div class="stats-grid" id="financeStats">
                    <!-- 财务统计数据 -->
                </div>
            </div>
            
            <!-- 娱乐数据 -->
            <div class="analytics-section">
                <h3><i class="fas fa-gamepad"></i> 娱乐数据</h3>
                <div class="charts-container">
                    <canvas id="entertainmentChart"></canvas>
                </div>
                <div class="stats-grid" id="entertainmentStats">
                    <!-- 娱乐统计数据 -->
                </div>
            </div>
            
            <!-- 动森打卡数据 -->
            <div class="analytics-section">
                <h3><i class="fas fa-leaf"></i> 动森打卡统计</h3>
                <div class="ac-analytics">
                    <div class="ac-version-stats" id="acVersionStats">
                        <!-- 版本统计 -->
                    </div>
                    <div class="ac-npc-stats" id="acNpcStats">
                        <!-- NPC统计 -->
                    </div>
                </div>
            </div>
        </section>

        <!-- 云同步 -->
        <section id="sync" class="content-section">
            <h2><i class="fab fa-github"></i> 云同步</h2>
            
            <div class="sync-info">
                <p><i class="fas fa-info-circle"></i> 使用GitHub Gist API将本地数据加密后备份到云端。</p>
                <p>需要GitHub Personal Access Token (需要gist权限)。</p>
            </div>
            
            <div class="sync-config">
                <div class="form-group">
                    <label>GitHub Token:</label>
                    <input type="password" id="githubToken" placeholder="输入Personal Access Token">
                </div>
                <div class="form-group">
                    <label>Gist ID (可选):</label>
                    <input type="text" id="gistId" placeholder="已有Gist ID，留空则创建新的">
                </div>
                <div class="form-group">
                    <label>加密密钥:</label>
                    <input type="text" id="encryptionKey" value="xiaohang-xiaodao-xiaodao" placeholder="用于数据加密的密钥">
                </div>
                <div class="sync-buttons">
                    <button id="testConnection" class="save-btn"><i class="fas fa-plug"></i> 测试连接</button>
                    <button id="backupData" class="save-btn"><i class="fas fa-cloud-upload-alt"></i> 备份数据</button>
                    <button id="restoreData" class="save-btn"><i class="fas fa-cloud-download-alt"></i> 恢复数据</button>
                </div>
            </div>
            
            <div class="sync-status">
                <h3><i class="fas fa-history"></i> 同步状态</h3>
                <div id="syncStatus">
                    <!-- 同步状态信息 -->
                </div>
                <div class="last-sync">
                    <p>最后备份: <span id="lastBackup">从未备份</span></p>
                    <p>最后恢复: <span id="lastRestore">从未恢复</span></p>
                </div>
            </div>
            
            <div class="data-management">
                <h3><i class="fas fa-database"></i> 数据管理</h3>
                <div class="data-buttons">
                    <button id="exportData" class="save-btn"><i class="fas fa-file-export"></i> 导出数据</button>
                    <button id="importData" class="save-btn"><i class="fas fa-file-import"></i> 导入数据</button>
                    <button id="clearLocalData" class="save-btn danger"><i class="fas fa-trash-alt"></i> 清空本地数据</button>
                </div>
            </div>
        </section>
    </main>

    <!-- 通知区域 -->
    <div id="notification" class="notification"></div>

    <!-- 脚本 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>
    
    <!-- PWA注册 -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .then(registration => {
                        console.log('ServiceWorker注册成功:', registration.scope);
                    })
                    .catch(error => {
                        console.log('ServiceWorker注册失败:', error);
                    });
            });
        }
        
        // 检测是否从主屏幕启动
        window.addEventListener('DOMContentLoaded', () => {
            if (window.navigator.standalone) {
                console.log('从主屏幕启动');
            }
        });
    </script>
</body>
</html>